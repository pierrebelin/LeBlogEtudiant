{# empty Twig template #}
{% extends 'PierreSiteBundle::layout.html.twig' %}

{% block title %}{{ parent() }} | Contact{% endblock %}

{% block scripts %}
    {{ parent() }}
    <script src='https://www.google.com/recaptcha/api.js'></script>

    <script>
        {% block javascript %}
        window.onload = function () {
            document.getElementById("form_submit").disabled = true;
        };
        function enableSubmit() {
            document.getElementById("form_submit").disabled = false;
        }
        {% endblock %}
    </script>
{% endblock %}


{% block content %}
    <div class="contact-header header-picture">

    </div>
    <div class="container container-shadow">
        <div class="row content">
            {% for type, flashes in app.session.flashbag.all %}
                {% for flash in flashes %}
                    <div class="alert alert-{{ type }} alert-dismissible fade in show" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                        {{ flash | raw }}
                    </div>
                {% endfor %}
            {% endfor %}

            <header>
                <h1>Contactez-moi</h1>
            </header>

            <p>Surtout, n'hésitez pas ! Il n'y a pas de questions bêtes. Si je peux être là pour y répondre, ça sera
                avec plaisir.

            <p>Pour les demandes de partenariats, redirigez vous vers le <a
                        href="{{ path('PierreSiteBundle_partnership') }}">formulaire de contact des partenaires</a>.</p>

            <div class="from-design">
                {{ form_start(form, {'attr': {'class': 'form-horizontal', 'method': 'post'}}) }}
                <div class="form-group form-margin">
                    {{ form_label(form.user, form.user, {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                    <div class="col-md-6">
                        {{ form_widget(form.user, {'attr': {'class': 'form-control',
                            'placeholder': 'Jean'}}) }}
                    </div>
                </div>
                <div class="form-group form-margin">
                    {{ form_label(form.mail, form.mail, {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                    <div class="col-md-6">
                        {{ form_widget(form.mail, {'attr': {'class': 'form-control',
                            'placeholder': 'jean.dupont@gmail.com'}}) }}
                    </div>
                </div>
                <div class="form-group form-margin">
                    {{ form_label(form.subject, form.subject, {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                    <div class="col-md-6">
                        {{ form_widget(form.subject, {'attr': {'class': 'form-control'}}) }}
                    </div>
                </div>
                <div class="form-group form-margin">
                    {{ form_label(form.body, form.body, {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                    <div class="col-md-6">
                        {{ form_widget(form.body, {'attr': {'class': 'form-control vresize',
                            'placeholder': 'Écrivez ce qui vous passe par la tête, même un simple "merci" me ferait énormément plaisir ! (20 caractères minimum)',
                            'minlength': '20',
                            'maxlength' : '500'}}) }}
                    </div>
                </div>
                <div class="form-group form-margin">
                    <div class="col-md-offset-3 col-md-6">
                        {{ form_widget(form.subscribe) }}
                        {{ form_label(form.subscribe, form.subscribe, {'label_attr': {'class': 'control-label'}}) }}
                    </div>
                </div>

                <div class="form-margin captcha">
                    <div class="g-recaptcha col-md-offset-3 " data-sitekey="6LcO2RcUAAAAAHWqmc30eypaOxIfx-rRPKM87xyi"
                         data-callback="enableSubmit"></div>
                    <p class="col-md-offset-3">*N'oubliez pas de cocher afin de pouvoir envoyer le message</p>
                </div>

                <div class="form-group form-margin">
                    <div class="col-md-4 col-md-offset-4">
                        {{ form_widget(form.submit, {'attr': { 'class': 'btn btn-default btn-lg btn-block' }}) }}
                    </div>
                </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}